<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>readmoi.core documentation</title><link rel="stylesheet" type="text/css" href="default.css" /><link rel="stylesheet" type="text/css" href="highlight.css" /><script type="text/javascript" src="highlight.min.js"></script><script type="text/javascript" src="jquery.min.js"></script><script type="text/javascript" src="page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">ReadMoi</span> <span class="project-version">version 1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1"><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="readmoi.core.html"><div class="inner"><span>readmoi.core</span></div></a></li></ul><ul class="index-link"><li class="depth-1"><a href="https://github.com/blosavio/readmoi">Project Home</a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="readmoi.core.html#var-*fn-map-additions*"><div class="inner"><span>*fn-map-additions*</span></div></a></li><li class="depth-1"><a href="readmoi.core.html#var-*project-group*"><div class="inner"><span>*project-group*</span></div></a></li><li class="depth-1"><a href="readmoi.core.html#var-*project-name*"><div class="inner"><span>*project-name*</span></div></a></li><li class="depth-1"><a href="readmoi.core.html#var-*project-version*"><div class="inner"><span>*project-version*</span></div></a></li><li class="depth-1"><a href="readmoi.core.html#var-*separator*"><div class="inner"><span>*separator*</span></div></a></li><li class="depth-1"><a href="readmoi.core.html#var-*wrap-at*"><div class="inner"><span>*wrap-at*</span></div></a></li><li class="depth-1"><a href="readmoi.core.html#var-copyright"><div class="inner"><span>copyright</span></div></a></li><li class="depth-1"><a href="readmoi.core.html#var-generate-all"><div class="inner"><span>generate-all</span></div></a></li><li class="depth-1"><a href="readmoi.core.html#var-long-date"><div class="inner"><span>long-date</span></div></a></li><li class="depth-1"><a href="readmoi.core.html#var-prettyfy"><div class="inner"><span>prettyfy</span></div></a></li><li class="depth-1"><a href="readmoi.core.html#var-print-form-then-eval"><div class="inner"><span>print-form-then-eval</span></div></a></li><li class="depth-1"><a href="readmoi.core.html#var-random-paragraph"><div class="inner"><span>random-paragraph</span></div></a></li><li class="depth-1"><a href="readmoi.core.html#var-random-sentence"><div class="inner"><span>random-sentence</span></div></a></li><li class="depth-1"><a href="readmoi.core.html#var-short-date"><div class="inner"><span>short-date</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">readmoi.core</h1><div class="doc"><div class="markdown"><p>Functions for generating ReadMoi webpages.</p>
<p>File <code>resources/readmoi_options.edn</code> contains a map with the following key-vals.</p>
<p>Required keys:</p>
<ul>
<li><code>:sections</code>, and within each section:
<ul>
<li><code>:section-name</code></li>
<li><code>:section-href</code></li>
<li><code>:section-skip-load?</code></li>
</ul>
</li>
</ul>
<p>Optional keys:</p>
<ul>
<li><code>:clojars-badge?</code></li>
<li><code>:copyright-holder</code></li>
<li><code>:fn-map-additions</code></li>
<li><code>:license-hiccup</code></li>
<li><code>:project-description</code></li>
<li><code>:project-name-formatted</code></li>
<li><code>:readme-UUID</code></li>
<li><code>:readme-html-directory</code></li>
<li><code>:readme-html-filename</code></li>
<li><code>:readme-markdown-directory</code></li>
<li><code>:readme-markdown-filename</code></li>
<li><code>:sections-directory</code></li>
<li><code>:separator</code></li>
<li><code>:wrap-at</code></li>
</ul>
<p>See <a href="https://github.com/blosavio/readmoi">project’s documentation</a> for details.</p>
</div></div><div class="public anchor" id="var-*fn-map-additions*"><h3>*fn-map-additions*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Additional directives to pass to <a href="https://cljdoc.org/d/zprint/zprint/1.2.9/doc/introduction"><code>zprint</code></a> governing  formatting specific function invocations. Default <code>{}</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/blosavio/readmoi/blob/main/src/readmoi/core.clj#L88">view source</a></div></div><div class="public anchor" id="var-*project-group*"><h3>*project-group*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Project group as observed in Leiningen <code>project.clj</code>. Defaults to <code>""</code> (i.e., empty string). Intended to be referenced within hiccup/html section files.</p>
</div></div><div class="src-link"><a href="https://github.com/blosavio/readmoi/blob/main/src/readmoi/core.clj#L91">view source</a></div></div><div class="public anchor" id="var-*project-name*"><h3>*project-name*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Project name as observed in Leiningen <code>project.clj</code>. Defaults to <code>""</code> (i.e., empty string). Intended to be referenced within hiccup/html section files.</p>
</div></div><div class="src-link"><a href="https://github.com/blosavio/readmoi/blob/main/src/readmoi/core.clj#L94">view source</a></div></div><div class="public anchor" id="var-*project-version*"><h3>*project-version*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Project version as observed in Leiningen <code>project.clj</code>. Defaults to <code>nil</code>. Intended to be referenced within hiccup/html section files.</p>
</div></div><div class="src-link"><a href="https://github.com/blosavio/readmoi/blob/main/src/readmoi/core.clj#L97">view source</a></div></div><div class="public anchor" id="var-*separator*"><h3>*separator*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Characters that separate the string representation of the form to be evaluated and the string representation of the result. Default <code>=&gt;</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/blosavio/readmoi/blob/main/src/readmoi/core.clj#L85">view source</a></div></div><div class="public anchor" id="var-*wrap-at*"><h3>*wrap-at*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Base-case column wrap, override-able by supplying extra args to the function that would otherwise consult this value, e.g., <a href="readmoi.core.html#var-print-form-then-eval">print-form-then-eval</a>. Default <code>80</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/blosavio/readmoi/blob/main/src/readmoi/core.clj#L82">view source</a></div></div><div class="public anchor" id="var-copyright"><h3>copyright</h3><div class="usage"><code>(copyright person)</code></div><div class="doc"><div class="markdown"><p>Formatted copyright with updated year.</p>
</div></div><div class="src-link"><a href="https://github.com/blosavio/readmoi/blob/main/src/readmoi/core.clj#L332">view source</a></div></div><div class="public anchor" id="var-generate-all"><h3>generate-all</h3><div class="usage"><code>(generate-all project-metadata opt)</code></div><div class="doc"><div class="markdown"><p>Given <code>project-metadata</code> and ReadMoi options <code>opt</code>, write-to-file html and markdown ReadMe.</p>
<p>See project documentation for details on the structure of the options map.</p>
<p>Dynamic vars that govern output:</p>
<ul>
<li><a href="readmoi.core.html#var-*wrap-at*">*wrap-at*</a></li>
<li><a href="readmoi.core.html#var-*separator*">*separator*</a></li>
<li><a href="readmoi.core.html#var-*fn-map-additions*">*fn-map-additions*</a></li>
</ul>
<p>Example:</p>
<pre><code class="language-clojure">(generate-all (read-string (slurp "project.clj"))
              (load-file "resources/readmoi_options.edn"))

;; writes "readme.html" to "doc\" directory and writes "README.md" to
;; project's root directory
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/blosavio/readmoi/blob/main/src/readmoi/core.clj#L598">view source</a></div></div><div class="public anchor" id="var-long-date"><h3>long-date</h3><div class="usage"><code>(long-date)</code></div><div class="doc"><div class="markdown"><p>Long-form date+time, with time zone removed.</p>
<p>Example:</p>
<pre><code class="language-clojure">(long-date) ;; =&gt; "2024-11-16 07:26:53"
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/blosavio/readmoi/blob/main/src/readmoi/core.clj#L308">view source</a></div></div><div class="public anchor" id="var-prettyfy"><h3>prettyfy</h3><div class="usage"><code>(prettyfy s &amp; width)</code></div><div class="doc"><div class="markdown"><p>Apply <code>zprint</code> formatting to string <code>s</code>. Optional integer <code>width</code> over-rides dynamic var <code>*wrap-at*</code>.</p>
<p>Provide <code>zprint</code> <a href="https://cljdoc.org/d/zprint/zprint/1.2.9/doc/introduction">alternative function classifications</a> by re-binding <code>*fn-map-additions*</code>.</p>
<p>Examples:</p>
<pre><code class="language-clojure">(prettyfy (str (eval (read-string "(repeat 3 (repeat 3 [77 88 99]))"))))
;; =&gt; "(([77 88 99] [77 88 99] [77 88 99])\n  ([77 88 99] [77 88 99] [77 88 99])\n  ([77 88 99] [77 88 99] [77 88 99]))"
</code></pre>
<p>…which would render to…</p>
<pre><code class="language-clojure">(([77 88 99] [77 88 99] [77 88 99])
 ([77 88 99] [77 88 99] [77 88 99])
 ([77 88 99] [77 88 99] [77 88 99]))
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/blosavio/readmoi/blob/main/src/readmoi/core.clj#L184">view source</a></div></div><div class="public anchor" id="var-print-form-then-eval"><h3>print-form-then-eval</h3><div class="usage"><code>(print-form-then-eval str-form)</code><code>(print-form-then-eval str-form width-fn width-output)</code></div><div class="doc"><div class="markdown"><p>Returns a hiccup <code>[:code]</code> block wrapping a Clojure stringified form <code>str-form</code>, separator <code>sep</code> (default <code>' =&gt; '</code>), and evaluated value. <code>def</code>, <code>defn</code>, <code>s/def/</code>, <code>defmacro</code>, <code>defpred</code>, and <code>require</code> expressions are only evaled; their output is not captured.</p>
<p>The two optional width args supersede <code>*wrap-at*</code>.</p>
<ul>
<li><code>width-fn</code> governs the max-width of the rendered <code>str-form</code>. Default <code>*wrap-at*</code>.</li>
<li><code>width-output</code> governs the max-width of the rendered <em>evaluation</em> of <code>str-form</code>. Default <code>(/ *wrap-at* 2)</code>.</li>
</ul>
<p>Re-bind <a href="readmoi.core.html#var-*wrap-at*">*wrap-at*</a> to change base-case column-wrap width. The two optional width args, <code>width-fn</code> and <code>width-output</code>, supersede this value.</p>
<p>Re-bind <a href="readmoi.core.html#var-*separator*">*separator*</a> to change the evaluation arrow.</p>
<p>Re-bind <a href="readmoi.core.html#var-*fn-map-additions*">*fn-map-additions*</a> to include additional zprint <a href="https://cljdoc.org/d/zprint/zprint/1.2.9/doc/introduction"><code>:fn-map</code> directives</a>.</p>
<p>See also <a href="readmoi.core.html#var-prettyfy">prettyfy</a>.</p>
<p><strong>Note</strong>: Evaluated output can not contain an anonymous function of either <code>(fn [x] ...)</code> nor <code>#(...)</code> because zprint requires an internal reference to attempt a backtrack. Since the rendering of an anonymous function changes from one invocation to the next, there is no stable reference.</p>
<ol>
<li>
<p>Basic example:</p>
<pre><code class="language-clojure">(print-form-then-eval "(+ 1 2)")
;; =&gt; [:code "(+ 1 2) ;; =&gt; 3"]
</code></pre>
<p>After hiccup processing, renders as…</p>
<pre><code class="language-clojure">(+ 1 2) ;; =&gt; 3
</code></pre>
</li>
<li>
<p>Another example:</p>
<pre><code class="language-clojure">(print-form-then-eval "(map inc (range 1 6))")
;; =&gt; [:code "(map inc (range 1 6)) ;; =&gt; (2 3 4 5 6)"]
</code></pre>
<p>Renders as…</p>
<pre><code class="language-clojure">(map inc (range 1 6)) ;; =&gt; (2 3 4 5 6)
</code></pre>
</li>
<li>
<p>Example with supplied widths:</p>
<pre><code class="language-clojure">(print-form-then-eval "(map inc (range 1 6))" 10 5)
;; =&gt; [:code "(map inc\n  (range\n    1\n    6))\n;; =&gt; (2\n;;     3\n;;     4\n;;     5\n;;     6)"]
</code></pre>
<p>Renders as…</p>
<pre><code class="language-clojure">(map inc
(range
  1
  6))
;; =&gt; (2
;;     3
;;     4
;;     5
;;     6)
</code></pre>
</li>
<li>
<p>Example with alternative arrow:</p>
<pre><code class="language-clojure">(binding [*separator* " ---&gt;&gt; "]
  (print-form-then-eval "(inc 1)"))
;; =&gt; [:code "(inc 1) ;; ---&gt;&gt; 2"]
</code></pre>
<p>Renders as…</p>
<pre><code class="language-clojure">(inc 1) ;; ---&gt;&gt; 2
</code></pre>
</li>
</ol>
</div></div><div class="src-link"><a href="https://github.com/blosavio/readmoi/blob/main/src/readmoi/core.clj#L209">view source</a></div></div><div class="public anchor" id="var-random-paragraph"><h3>random-paragraph</h3><div class="usage"><code>(random-paragraph)</code></div><div class="doc"><div class="markdown"><p>Generate a random alpha-numeric paragraph.</p>
<p>For similar example, see <a href="readmoi.core.html#var-random-sentence">random-sentence</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/blosavio/readmoi/blob/main/src/readmoi/core.clj#L431">view source</a></div></div><div class="public anchor" id="var-random-sentence"><h3>random-sentence</h3><div class="usage"><code>(random-sentence)</code></div><div class="doc"><div class="markdown"><p>Generates a random alpha-numeric sentence.</p>
<p>Example:</p>
<pre><code class="language-clojure">(random-sentence) ;; =&gt; "2g  0j45do 2xq n1nwrm 2a41nk g0x47ov v4bbix jo3687i2oh ofrg1o bi 2fc68 15pn1 o82hp3hu49l5d6xhx hk1bgdo2xex2c133bo."
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/blosavio/readmoi/blob/main/src/readmoi/core.clj#L414">view source</a></div></div><div class="public anchor" id="var-short-date"><h3>short-date</h3><div class="usage"><code>(short-date)</code></div><div class="doc"><div class="markdown"><p>Short-form date, named month.</p>
<p>Example:</p>
<pre><code class="language-clojure">(short-date) ;; =&gt; "2024 November 16"
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/blosavio/readmoi/blob/main/src/readmoi/core.clj#L320">view source</a></div></div></div></body></html>